Initializing Distributed Paxos Banking System...
Client A started on port 8000
Client B started on port 8001
Client C started on port 8002
Client D started on port 8003
Client E started on port 8004
Client F started on port 8005
Client G started on port 8006
Client H started on port 8007
Client I started on port 8008
Client J started on port 8009
Node n1 started on localhost:5001
Node n2 started on localhost:5002
Node n3 started on localhost:5003
Node n4 started on localhost:5004
Node n1 failed to send to n5: [Errno 111] Connection refused
Node n5 started on localhost:5005
System initialized. Waiting for leader election...
Node n2 accepted new leader n1 for view 1
Node n3 accepted new leader n1 for view 1
Node n4 accepted new leader n1 for view 1
Node n1 became leader for view 1
Node n5 accepted new leader n1 for view 1
Node n2 accepted new leader n1 for view 1
Node n3 accepted new leader n1 for view 1
Node n4 accepted new leader n1 for view 1
Node n1 became leader for view 1
Node n5 accepted new leader n1 for view 1

==================================================
Processing Set 1
==================================================
Processing 5 transactions:
  1. (A,E,3)
  2. (C,D,1)
  3. (B,E,4)
  4. (A,B,2)
  5. (C,D,2)

Sending 5 transactions...
Transaction 1: (A,E,3)
Node n3 executed: (A,E,3)
Node n4 executed: (A,E,3)
Node n5 executed: (A,E,3)
Node n2 executed: (A,E,3)
Node n1 executed: (A,E,3)
Client A: Transaction (A,E,3) SUCCESS - Transaction executed successfully
Transaction 2: (C,D,1)
Node n1 executed: (C,D,1)
Client C: Transaction (C,D,1) SUCCESS - Transaction executed successfully
Node n5 executed: (C,D,1)
Node n4 executed: (C,D,1)
Node n3 executed: (C,D,1)
Node n2 executed: (C,D,1)
Transaction 3: (B,E,4)
Node n2 executed: (B,E,4)
Node n1 executed: (B,E,4)
Client B: Transaction (B,E,4) SUCCESS - Transaction executed successfully
Node n3 executed: (B,E,4)
Node n4 executed: (B,E,4)
Node n5 executed: (B,E,4)
Transaction 4: (A,B,2)
Node n2 executed: (A,B,2)
Node n1 executed: (A,B,2)
Client A: Transaction (A,B,2) SUCCESS - Transaction executed successfully
Node n4 executed: (A,B,2)
Node n3 executed: (A,B,2)
Node n5 executed: (A,B,2)
Transaction 5: (C,D,2)
Waiting for responses...
Node n2 executed: (C,D,2)
Node n1 executed: (C,D,2)
Client C: Transaction (C,D,2) SUCCESS - Transaction executed successfully
Node n3 executed: (C,D,2)
Node n5 executed: (C,D,2)
Node n4 executed: (C,D,2)

============================== SYSTEM STATE ==============================

=== Database for Node n1 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n2 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n3 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n4 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n5 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

Current Leader: n1
===========================================================================

Set 1 complete. Auto-continuing...

==================================================
Processing Set 2
==================================================
Simulating failure of n5
Node n5 simulating failure
Node n2 failed to send to n5: [Errno 111] Connection refused
Processing 2 transactions:
  1. (B,D,2)
  2. (E,C,4)

Sending 2 transactions...
Transaction 1: (B,D,2)
Node n3 executed: (B,D,2)
Node n2 executed: (B,D,2)
Node n4 executed: (B,D,2)
Node n1 executed: (B,D,2)
Client B: Transaction (B,D,2) SUCCESS - Transaction executed successfully
Transaction 2: (E,C,4)
Waiting for responses...
Node n3 executed: (E,C,4)
Node n2 executed: (E,C,4)
Node n4 executed: (E,C,4)
Node n1 executed: (E,C,4)
Client E: Transaction (E,C,4) SUCCESS - Transaction executed successfully

============================== SYSTEM STATE ==============================

=== Database for Node n1 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n2 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n3 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n4 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

Current Leader: n1
===========================================================================

Set 2 complete. Auto-continuing...

==================================================
Processing Set 3
==================================================
Simulating failure of n4
Node n4 simulating failure
Node n3 failed to send to n4: [Errno 111] Connection refused
Simulating failure of n2
Node n2 simulating failure
Recovering n5
Node n5 recovering
Node n5 failed to send to n2: [Errno 111] Connection refused
Node n5 failed to send to n4: [Errno 111] Connection refused
Node n5 failed to send to n2: [Errno 111] Connection refused
Node n5 failed to send to n4: [Errno 111] Connection refused
Node n1 failed to send to n2: [Errno 111] Connection refused
Node n1 failed to send to n4: [Errno 111] Connection refused
Node n3 failed to send to n2: [Errno 111] Connection refused
Node n3 failed to send to n4: [Errno 111] Connection refused
Node n5 failed to send to n2: [Errno 111] Connection refused
Node n5 failed to send to n4: [Errno 111] Connection refused
Processing 2 transactions:
  1. (B,A,3)
  2. (C,A,2)

Sending 2 transactions...
Transaction 1: (B,A,3)
Client B: Transaction (B,A,3) TIMEOUT
Transaction 2: (C,A,2)
Waiting for responses...
Client C: Transaction (C,A,2) TIMEOUT

============================== SYSTEM STATE ==============================

=== Database for Node n1 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n3 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n5 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

Current Leader: n1
===========================================================================

Set 3 complete. Auto-continuing...

==================================================
Processing Set 4
==================================================
Recovering n2
Node n2 recovering
Node n2 failed to send to n4: [Errno 111] Connection refused
Node n2 failed to send to n4: [Errno 111] Connection refused
Node n2 failed to send to n4: [Errno 111] Connection refused
Processing 2 transactions:
  1. (B,A,3)
  2. (A,C,3)

Sending 2 transactions...
Transaction 1: (B,A,3)
Client B: Transaction (B,A,3) TIMEOUT
Transaction 2: (A,C,3)
Waiting for responses...
Client A: Transaction (A,C,3) TIMEOUT

============================== SYSTEM STATE ==============================

=== Database for Node n1 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n2 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n3 ===
A: 5
B: 6
C: 11
D: 15
E: 13
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

=== Database for Node n5 ===
A: 5
B: 8
C: 7
D: 13
E: 17
F: 10
G: 10
H: 10
I: 10
J: 10
===================================

Current Leader: n1
===========================================================================

Set 4 complete. Auto-continuing...

==================================================
Processing Set 5
==================================================
Simulating failure of n3
Node n3 simulating failure
Node n2 failed to send to n3: [Errno 111] Connection refused
Node n5 failed to send to n3: [Errno 111] Connection refused
Node n1 failed to send to n3: [Errno 111] Connection refused
Simulating failure of n5
Node n5 simulating failure
Processing 2 transactions:
  1. (C,B,1)
  2. (D,A,2)

Sending 2 transactions...
Transaction 1: (C,B,1)
Client C: Transaction (C,B,1) TIMEOUT
Transaction 2: (D,A,2)
Waiting for responses...
Client D: Transaction (D,A,2) TIMEOUT

Received interrupt signal, shutting down...
Shutting down system...
Client A shutting down...
Client A stopped
Client B shutting down...
Client B stopped
Client C shutting down...
Client C stopped
Client D shutting down...
Client D stopped
Client E shutting down...
Client E stopped
Client F shutting down...
Client F stopped
Client G shutting down...
Client G stopped
Client H shutting down...
Client H stopped
Client I shutting down...
Client I stopped
Client J shutting down...
Client J stopped
Node n1 shutting down...
Node n1 stopped
Node n2 shutting down...
Node n2 stopped
Node n3 shutting down...
Node n3 stopped
Node n4 shutting down...
Node n4 stopped
Node n5 shutting down...
Node n5 stopped
System shutdown complete.
Shutting down system...
Client A shutting down...
Client A stopped
Client B shutting down...
Client B stopped
Client C shutting down...
Client C stopped
Client D shutting down...
Client D stopped
Client E shutting down...
Client E stopped
Client F shutting down...
Client F stopped
Client G shutting down...
Client G stopped
Client H shutting down...
Client H stopped
Client I shutting down...
Client I stopped
Client J shutting down...
Client J stopped
Node n1 shutting down...
Node n1 stopped
Node n2 shutting down...
Node n2 stopped
Node n3 shutting down...
Node n3 stopped
Node n4 shutting down...
Node n4 stopped
Node n5 shutting down...
Node n5 stopped
System shutdown complete.
